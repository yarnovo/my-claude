# CLAUDE.md 自动更新规则

## 触发条件

在对话过程中，当以下情况发生时，主动更新项目的 `CLAUDE.md` 文件：

### 1. 技术决策
- 选择了特定的库或框架版本
- 确定了 API 设计模式
- 解决了技术难题并找到了解决方案

### 2. 项目约定
- 建立了新的命名规范
- 确定了目录结构
- 定义了代码风格或模式

### 3. 已知问题
- 发现了需要规避的 bug 或限制
- 找到了特定工具/库的 workaround
- 识别了需要特殊处理的边界情况

### 4. 依赖变更
- 添加或更新了关键依赖
- 发现了版本兼容性问题
- 确定了必须使用的特定版本

### 5. 架构信息
- 核心组件的职责划分
- 数据流或状态管理模式
- 集成点和接口设计

## 更新原则

1. **精简原则**: 只记录对未来开发有帮助的信息
2. **结构化**: 使用表格或列表便于快速查阅
3. **代码示例**: 复杂模式附带简短代码示例
4. **避免冗余**: 不重复已在代码中明显的信息

## 格式规范

```markdown
## 章节标题

### 子标题

| 列1 | 列2 |
|-----|-----|
| 内容 | 内容 |

**要点**: 简短说明

```代码示例```
```

## 操作方式

当需要更新时：
1. 读取现有 `CLAUDE.md`
2. 在适当位置添加或更新内容
3. 保持整体结构清晰
4. 使用 Edit 工具进行精确修改
